(this.webpackJsonpsoftfront=this.webpackJsonpsoftfront||[]).push([[0],{133:function(e,n,t){e.exports=t(159)},158:function(e,n,t){},159:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),l=t.n(o),c=t(46),i=function(e){var n=e.children;return r.a.createElement("div",{style:{height:"100vh"}},n)},u=t(192),m=t(25),s=t(28);function d(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 64px;\n  background-color: ",";\n  color: #fff;\n"]);return d=function(){return e},e}var p=s.a.header(d(),"#3f51b5"),f=function(){return r.a.createElement(p,null,r.a.createElement(u.a,{variant:"h6"},"Lista dos Pa\xedses"))},v=t(43),b=t(57),y=t(18),E=t(29),g=function(e){var n=e.children;return r.a.createElement("div",{style:{height:"calc(100% - 64px)"}},n)},h=t(201),j=t(197),O=t(198),x=t(199),I=t(200),C=t(163),w=t(196),N=Object(w.a)({title:{fontSize:18},media:{width:"100%",height:192}}),S=function(e){var n=e.countryInfo,t=N();return r.a.createElement(j.a,null,r.a.createElement(O.a,{className:t.media,image:n.flag.svgFile}),r.a.createElement(x.a,null,r.a.createElement(u.a,{className:t.title},n.nativeName," (",n.name,")"),r.a.createElement(u.a,{variant:"body2",component:"span"},n.capital)),r.a.createElement(I.a,null,r.a.createElement(C.a,{size:"small",color:"primary"},r.a.createElement(b.b,{to:"/details/".concat(n.name)},"Detalhes"))))};function k(){var e=Object(m.a)(["\n    query {\n      Country {\n        name\n        nativeName\n        alpha2Code\n        alpha3Code\n        area\n        population\n        populationDensity\n        capital\n        demonym\n        gini\n        location {\n          latitude\n          longitude\n        }\n        numericCode\n        subregion {\n          name\n          region {\n            name\n          }\n        }\n        officialLanguages {\n          iso639_1\n          iso639_2\n          name\n          nativeName\n        }\n        currencies {\n          name\n          symbol\n        }\n        regionalBlocs {\n          name\n          acronym\n          otherAcronyms {\n            name\n          }\n          otherNames {\n            name\n          }\n        }\n        flag {\n          emoji\n          emojiUnicode\n          svgFile\n        }\n        topLevelDomains {\n          name\n        }\n        callingCodes {\n          name\n        }\n        alternativeSpellings {\n          name\n        }\n        distanceToOtherCountries(first: 5) {\n          distanceInKm\n          countryName\n        }\n      }\n    }\n\n  "]);return k=function(){return e},e}var T,R=function(){return Object(v.gql)(k())};!function(e){e.add="@countryInfo/ADD",e.edit="@countryInfo/EDIT"}(T||(T={}));var L=t(204),M=t(122),D=function(e){var n=e.onFilter,t=e.buttonColor,o=Object(a.useState)(""),l=Object(E.a)(o,2),c=l[0],i=l[1],u=Object(a.useRef)(Object(M.debounce)((function(e){n(e)}),500)).current;return r.a.createElement(L.a,{color:t,label:"Filtro",name:"searchInput",value:c,onChange:function(e){i(e.target.value),u(e.target.value)},variant:"filled",size:"small"})};function F(){var e=Object(m.a)(["\n  display: flex;\n  height: 60px;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 0 15px;\n"]);return F=function(){return e},e}var A=s.a.div(F()),P={addCountryInfo:function(e){return{type:T.add,countryInfo:e}}},q=Object(c.b)((function(e){return{infos:e.InfoReducer.arrayState}}),P)((function(e){var n=e.infos,t=e.addCountryInfo,o=Object(v.useQuery)(R()).data,l=Object(a.useState)(""),c=Object(E.a)(l,2),i=c[0],u=c[1];Object(a.useEffect)((function(){null===o||void 0===o||o.Country.map((function(e){t(e)}))}),[o]);var m=Object(a.useMemo)((function(){return n.filter((function(e){return!!e.name.toLowerCase().includes(i.toLowerCase())||!!e.nativeName.toLowerCase().includes(i.toLowerCase())}))}),[n,i]);return r.a.createElement(g,null,r.a.createElement(A,null,r.a.createElement(D,{onFilter:function(e){return u(e)},buttonColor:"primary"})),r.a.createElement(h.a,{container:!0},m.map((function(e){return r.a.createElement(h.a,{item:!0,xs:3,style:{padding:"8px"},key:e.name},r.a.createElement(S,{countryInfo:e}))}))))})),z=t(202),J=t(203),B=t(205),K=t(63),Q=t(90),V=t(126),Y=t(64);function Z(){var e=Object(m.a)(["\n  background-color: white;\n  padding: 16px;\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  button {\n    margin-top: 16px;\n  }\n"]);return Z=function(){return e},e}var U=s.a.form(Z()),_={editCountryInfo:function(e,n){return{type:T.edit,key:e,countryInfo:n}}},G=Object(c.b)((function(e){return{infosMap:e.InfoReducer.mapState}}),_),X=Object(Y.b)().shape({nativeName:Object(Y.c)().required(),capital:Object(Y.c)().required(),area:Object(Y.a)().required(),population:Object(Y.a)().required()}),H=G((function(e){var n,t,a,o,l=Object(Q.useForm)({resolver:Object(V.yupResolver)(X),defaultValues:{nativeName:e.countryInfo.nativeName,capital:e.countryInfo.capital,area:e.countryInfo.area,population:e.countryInfo.population}}),c=l.errors,i=l.register,u=l.handleSubmit;return r.a.createElement(U,null,r.a.createElement(L.a,{label:"Nome Nativo",name:"nativeName",inputRef:i,error:!!c.nativeName,helperText:null===c||void 0===c||null===(n=c.nativeName)||void 0===n?void 0:n.message}),r.a.createElement(L.a,{label:"Capital",name:"capital",inputRef:i,error:!!c.nativeName,helperText:null===c||void 0===c||null===(t=c.nativeName)||void 0===t?void 0:t.message}),r.a.createElement(L.a,{label:"\xc1rea",name:"area",type:"number",inputRef:i,error:!!c.area,helperText:null===c||void 0===c||null===(a=c.area)||void 0===a?void 0:a.message}),r.a.createElement(L.a,{label:"Popula\xe7\xe3o",name:"population",type:"number",inputRef:i,error:!!c.population,helperText:null===c||void 0===c||null===(o=c.population)||void 0===o?void 0:o.message}),r.a.createElement(C.a,{type:"submit",onClick:u((function(n){return function(n){var t=Object(K.a)(Object(K.a)({},e.countryInfo),n);e.editCountryInfo(e.countryInfo.name,t),e.closeModal(!0),e.update(t)}(n)})),color:"primary",variant:"contained"},"Salvar"))}));function W(){var e=Object(m.a)(["\n  padding: 10px;\n  color: #fff;\n  cursor: pointer;\n  background: #eb4034;\n  border-radius: 6px;\n"]);return W=function(){return e},e}function $(){var e=Object(m.a)(["\n  padding: 5px;\n    color: #fff;\n    cursor: pointer;\n    background: #1978c8;\n    border-radius: 6px;\n    font-size: 10px;\n"]);return $=function(){return e},e}function ee(){var e=Object(m.a)(["\n  width: 100vw;\n  margin: 8px;\n"]);return ee=function(){return e},e}function ne(){var e=Object(m.a)(["\n  width: 300px;\n  p {\n    color: gray;\n    > span {\n      color: black;\n    }\n    > ul {\n      display: flex;\n      flex-direction: column;\n      color: black;\n      align-items: center;\n    }\n  }\n"]);return ne=function(){return e},e}function te(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  button, a {\n    color: white;\n    text-decoration: none;\n  }\n"]);return te=function(){return e},e}function ae(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  width: 300px;\n  img {\n    width: 64px;\n    margin-right: 16px;\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(m.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return re=function(){return e},e}var oe=s.a.div(re()),le=s.a.div(ae()),ce=s.a.div(te()),ie=s.a.div(ne()),ue=s.a.div(ee()),me=s.a.div($()),se=s.a.div(W()),de=t(73),pe=(t(157),Object(c.b)((function(e){return{infosMap:e.InfoReducer.mapState}}),{})((function(e){var n=e.match.params.name,t=e.infosMap,o=Object(a.useState)(),l=Object(E.a)(o,2),c=l[0],i=l[1],m=Object(a.useState)([]),s=Object(E.a)(m,2),d=s[0],p=s[1],f=Object(a.useState)(!1),v=Object(E.a)(f,2),y=v[0],j=v[1];return Object(a.useEffect)((function(){t.get(n)?i(t.get(n)):window.location.href="/"}),[n]),Object(a.useEffect)((function(){var e=[];null===c||void 0===c||c.distanceToOtherCountries.map((function(n){e.push(t.get(n.countryName))})),p(e)}),[c]),c?r.a.createElement(g,null,r.a.createElement(h.a,{container:!0,style:{height:"100%"}},r.a.createElement(oe,null,r.a.createElement(le,null,r.a.createElement("img",{src:c.flag.svgFile,alt:"Bandeira ".concat(c.name)}),r.a.createElement(u.a,{variant:"h3"},c.name)),r.a.createElement(ie,null,r.a.createElement(u.a,{variant:"subtitle1"},c.nativeName),r.a.createElement(z.a,null),r.a.createElement("div",null,r.a.createElement(u.a,{variant:"body2",component:"p"},"Capital: ",r.a.createElement(u.a,{variant:"body1",component:"span"},c.capital)),r.a.createElement(u.a,{variant:"body2",component:"p"},"\xc1rea: ",r.a.createElement(u.a,{variant:"body1",component:"span"},c.area)),r.a.createElement(u.a,{variant:"body2",component:"p"},"Popula\xe7\xe3o: ",r.a.createElement(u.a,{variant:"body1",component:"span"},c.population)),r.a.createElement(u.a,{variant:"body2",component:"p"},"TLD (Top-Level Domain): ",r.a.createElement("ul",null,c.topLevelDomains.map((function(e){return r.a.createElement("li",{key:c.name},e.name)})))),r.a.createElement(z.a,null),r.a.createElement(u.a,null,"Paises mais pr\xf3ximos"),r.a.createElement("ol",null,c.distanceToOtherCountries.map((function(e){return r.a.createElement("li",{key:e.countryName},r.a.createElement(u.a,{component:"span"},e.countryName," - ",e.distanceInKm,"Km"))}))),r.a.createElement(ce,null,r.a.createElement(J.a,{variant:"contained",color:"primary"},r.a.createElement(C.a,{onClick:function(){return j(!0)}},"Editar"),r.a.createElement(C.a,null,r.a.createElement(b.b,{to:"/"},"Voltar")))))),r.a.createElement(ue,null,r.a.createElement(de.c,{style:{width:"100%",height:"1200px"},mapStyle:"mapbox://styles/mapbox/light-v9",accessToken:"pk.eyJ1IjoiZ2xocm1lIiwiYSI6ImNraTNxY2RtcTNmbTQycnJtZjUwM3FvNGkifQ.1EtP7JP-tY2RCLBEXItiVA",latitude:c.location.latitude,longitude:c.location.longitude,zoom:0},r.a.createElement(de.a,{latitude:c.location.latitude,longitude:c.location.longitude},r.a.createElement(se,null,c.name)),d.map((function(e){return r.a.createElement(de.a,{key:e.name,longitude:e.location.longitude,latitude:e.location.latitude},r.a.createElement(me,null,e.name))})),r.a.createElement(de.b,{showCompass:!0,showZoom:!0,position:"top-right"}))))),r.a.createElement(B.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},open:y,onClose:function(){return j(!1)}},r.a.createElement(H,{countryInfo:c,closeModal:j,update:i}))):r.a.createElement("h1",null,"N\xe3o h\xe1 registros")}))),fe=function(){return r.a.createElement(b.a,null,r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/",exact:!0,component:q}),r.a.createElement(y.b,{path:"/details",exact:!0},r.a.createElement(y.a,{to:""})),r.a.createElement(y.b,{path:"/details/:name",component:pe})))},ve=t(55),be={mapState:new Map,arrayState:[]},ye=new Map,Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T.add:ye.get(n.countryInfo.name)||ye.set(n.countryInfo.name,n.countryInfo);var t={arrayState:Array.from(ye.values()),mapState:ye};return e=t;case T.edit:var a=ye.get(n.key);return ye.delete(n.key),a=Object(K.a)(Object(K.a)({},a),n.countryInfo),ye.set(a.name,a),e={mapState:ye,arrayState:Array.from(ye.values())};default:return e}},ge=Object(ve.b)({InfoReducer:Ee}),he=Object(ve.c)(ge),je=(t(158),new v.ApolloClient({uri:"https://countries-274616.ew.r.appspot.com/",cache:new v.InMemoryCache})),Oe=function(){return r.a.createElement(v.ApolloProvider,{client:je},r.a.createElement(c.a,{store:he},r.a.createElement(i,null,r.a.createElement(f,null),r.a.createElement(fe,null))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Oe,null)),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.a2c9d1ab.chunk.js.map